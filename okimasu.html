<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=0.6">
<title>Simulasi Ujian</title>

<style>
body {
  font-family: Arial, sans-serif;
  background: rgba(59, 130, 246, 0.30);
  font-size: 10px;
  font-weight: 500;

  color: #000; /* ğŸ”¥ TEKS PUTIH */

  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}
#questionImage {
  display: block;
  margin: 20px auto;   /* tetap tengah */
  max-width: 100%;
}
.study{
  border:2px solid #bfc8d8;
  border-radius:14px;
  padding:22px;
  margin-bottom:30px;
  background:#eef2f8;
}

.question{
  font-size:26px;
  line-height:1.7;
  font-weight:700;
}

.choice{
  margin-top:12px;
  margin-left:18px;
  font-weight:600;
}

.answer{
  color:#d32f2f;
  font-weight:700;
}

.jp-text{
  font-size:28px;
  font-weight:800;
  background:#fdeecb;
  border:3px solid #f4a000;
  padding:18px;
  border-radius:12px;
  margin-top:18px;
  display:none;
}

.hidden{
  display:none;
  margin-top:15px;
  background:#e9edf5;
  padding:18px;
  border-radius:10px;
}
.talker {
  width: 50px;          /* ğŸ”¥ ukuran emoji */
  height: 50px;
  vertical-align: middle;
  margin-right: 6px;
}
.answers label.correct {
  background: #c8e6c9;
  border-color: #2e7d32;
}

.answers label.wrong {
  background: #ffcdd2;
  border-color: #c62828;
}

.sidebar button.wrong {
  background: #f44336;
  color: #fff;
}
.container {
  display: flex;
  width: 900px;
  margin: 110px auto 20px auto; /* ğŸ”¥ TURUNKAN CONTAINER */

  background: #ffffff;
  border: 2px solid #e5e7eb;
  border-radius: 18px;
  padding: 20px;
}
.session-bar {
  position: absolute;
  top: 80px;
  width: 100%;
  text-align: center;
  z-index: 10;
  
}

.session-bar button {
  padding: 10px 20px;
  font-size: 16px;
  font-weight: bold;
  border: 3px solid #000;
  cursor: pointer;
  background: #ff9800;
  margin-bottom: 8px;
}

.session-menu {
  margin-top: 10px;
  display: none;
}

.session-menu button {
  margin: 5px;
  padding: 10px 18px;
  font-size: 16px;
  border: 3px solid #000;
  cursor: pointer;
  background: #2196f3;
  color: #fff;
  
}
.answers input[type="radio"] {
  transform: scale(1.3);   /* gedein bulatan */
  margin-right: 12px;
}
.question-hint {
  font-size: 22px;
  font-weight: 600;
  text-align: center;
  margin-bottom: 12px;

  background: #e5e7eb;          /* abu-abu gelap */
  border-left: 6px solid #6b7280; /* aksen abu tua */
  padding: 10px 16px;
  border-radius: 6px;

  color: #111827;               /* teks hampir hitam */
}
/* SIDEBAR */
.sidebar {
  width: 80px;
  border-right: 2px solid #000;
  padding: 10px;
}
.kanji {
  color: red;
  font-weight: 700;
text-decoration: underline; 
}
.sidebar button {
  width: 100%;
  margin-bottom: 8px;
  padding: 10px;
  border: 3px solid #000;
  background: #fff;
  font-weight: bold;
  cursor: pointer;
  font-size: 16px;
}

.sidebar button.active {
  background: #4caf50;
  color: #fff;
}

.sidebar button.answered {
  background: #2196f3;
  color: #fff;
}

/* CONTENT */
.content {
  flex: 1;
  padding: 20px;
}
.title {
  position: absolute;
  top: 10px;

  width: 100%;
  text-align: center;

  font-size: 36px;
  font-weight: 800;
  color: #fff;

  text-shadow: 0 0 15px rgba(168, 85, 247, 0.8);
  letter-spacing: 2px;
}
.answers label {
  display: block;
  border: 2px solid rgba(33, 150, 243, 0.5); /* ğŸ”µ biru transparan */
  padding: 15px;
  margin-bottom: 10px;
  cursor: pointer;
  font-size: 25px;
  font-weight: 600;
}
.double-label {
  display: inline-block;
  font-size: 22px;
  font-weight: 800;
  background: #3b82f6;
  color: #fff;
  padding: 4px 12px;
  border-radius: 20px;
  margin-bottom: 6px;
}

.double-question-text {
  font-size: 26px;
  font-weight: 550;
  text-align: center;

  background: rgba(255, 165, 0, 0.2);
  border: 2px solid #ff9800;
  padding: 14px 23px;
  margin-bottom: 18px;
  border-radius: 12px;
}
.question-text {
  font-size: 26px;
  font-weight: 550;
  text-align: center;

  background: rgba(255, 165, 0, 0.2);
  border: 1px solid #ff9800;
  padding: 14px 23px;
  margin-bottom: 30px;
}
/* FOOTER */
.footer {
  margin-top: 20px;
  text-align: right;
}

.footer button {
  padding: 15px 30px;
  border: 4px solid #000;
  font-weight: bold;
  font-size: 20px;
  cursor: pointer;
  background: #ff9800;
  color: #000;
}
/* ================= BUTTON SESI 4 ================= */
.session4 .buttons button {
  font-size: 18px;        /* ğŸ”¥ BESARIN TEKS */
  padding: 10px 16px;     /* ğŸ”¥ BESARIN TOMBOL */
  margin: 6px 6px 6px 0;
  font-weight: 700;

  border: 3px solid #000;
  background: #ff9800;
  cursor: pointer;
  border-radius: 10px;
}
/* ================= SESI 4 KHUSUS ================= */
.session4-full {
  width: 100%;
}
.session4 {
  font-size: 22px;      /* ukuran dasar */
  line-height: 1.7;
}

.session4 .question {
  font-size: 26px;
  font-weight: 700;
}

.session4 .choice {
  font-size: 22px;
}

.session4 .answer {
  font-size: 22px;
  color: #d32f2f;
  font-weight: 700;
}

.session4 .hidden {
  font-size: 21px;
}

.session4 .jp-text {
  font-size: 26px;
}
.dialog {
  display: flex;
  align-items: center;
  gap: 10px;

  padding: 12px 16px;
  margin-bottom: 10px;
  border-radius: 10px;

  font-size: 26px;
  font-weight: 500;
}

/* ğŸ‘© CEWEK â†’ putih + border hitam */
.dialog.female {
  background: #ffffff;
  border: 3px solid #ff9800;
  color: #000;
}

/* ğŸ‘¨ COWOK â†’ TETAP ORANGE (JANGAN DIUBAH) */
.dialog.male {
  background: #ffffff;
  border: 3px solid #3b82f6;
  color: #000;
}
.btn-back {
  position: fixed;
  top: 12px;
  right: 12px;
  z-index: 9999;

  padding: 6px 12px;
  font-size: 13px;
  font-weight: 600;

  border: 2px solid #000;
  border-radius: 8px;

  background: #ff9800;
  color: #000;

  cursor: pointer;
}

.btn-back:active {
  transform: scale(0.95);
}



</style>
</head>

<body>
<h1 class="title" id="title">OKIMASU SESI 1</h1>
<div class="session-bar" id="sessionBar">
  <button onclick="toggleSessionMenu()">ğŸ“‚ PILIH SESI</button>

  <div class="session-menu" id="sessionMenu">
    <button onclick="goSession(0)">SESI 1</button>
    <button onclick="goSession(1)">SESI 2</button>
    <button onclick="goSession(2)">SESI 3</button>
    <button onclick="goSession(3)">SESI 4</button>
  </div>
</div>

</div>
<div class="container">
  <div class="sidebar" id="sidebar"></div>

  <div class="content">
<div class="question-hint" id="questionHint" style="display:none;"></div>
    <div class="question-text" id="questionText">
      Lihatlah ilustrasi, kemudian pilihlah kata yang benar
    </div>

    <img id="questionImage" width="500" style="display:none;">

    <div class="answers" id="answers"></div>
<div class="footer">
      <button id="prevBtn" style="display:none;">â¬… KEMBALI</button>
      <button id="finishBtn" style="display:none;">SELESAI</button>
      <button id="nextBtn" style="display:none;">LANJUT â¡</button>
    </div>
    <button class="btn-back" onclick="goBackMenu()">
      â¬… Daftar
    </button>


<div id="result" style="
      display:none;
      margin-top:30px;
      padding:20px;
      border:3px solid #000;
      background:#e8f5e9;
      font-size:24px;
      font-weight:bold;
      text-align:center;
    ">
    </div>
  </div>
</div>

<script>
let questions = [
  {
    image: "https://raw.githubusercontent.com/ivank1999/Ivank/main/bangun.png",
    imageWidth: 350,
    hint : "lihatlah ilustrasi, kemudian pililah kata yang benar.",
    choices: ["1. ãŠãã¾ã™", "2. ã­ã¾ã™", "3. ã™ã‚ã‚Šã¾ã™"],
    correct: 0
  },
  {
    image: "https://raw.githubusercontent.com/ivank1999/Ivank/main/jalan.png",
    imageWidth: 400,
    hint : "lihatlah ilustrasi, kemudian pililah kata yang benar.",
    choices: ["1. ã‹ã‚‹ã„", "2. ãã‚‰ã„", "3. ã‚ã‹ã‚‹ã„"],
    correct: 1
  },
  {
    image: "https://raw.githubusercontent.com/ivank1999/Ivank/main/pulau.png",
    imageWidth: 500,
    hint : "lihatlah ilustrasi, kemudian pililah kata yang benar.",
    choices: ["1. ã—ã¾", "2. ã„ã‘", "3. ã‹ã‚"],
    correct: 0
  },
  {
    image: "",
    hint : "Pililah cara baca yang tepat dari Kanji yang digarisbawahi",
    text: "ã“ã®é£²ã¿ç‰©ã¯,<span class='kanji'>ç„¡æ–™</span>ã§ã™ã€‚",
    choices: ["A. ã‚€ã‚Šã‚‡", "B. ã‚€ã‚Šã‚‡ã†", "C. ã‚€ã‚Šã‚‡"],
    correct: 1
  },
  {
      image: "",
      hint : "Pililah cara baca yang tepat dari Kanji yang digarisbawahi",
      text: "ã“ã®æœ¬ã¯,<span class='kanji'>å¤§åˆ‡ãª</span>ã»ã‚“ã§ã™ã€‚",
      choices: ["A. ãŸã„ã¸ã‚“ãª", "B. ã²ã¤ã‚ˆã†ãª", "C. ãŸã„ã›ã¤ãª"],
      correct: 2
    },
  {
        image: "",
        hint : "Pililah cara baca yang tepat dari Kanji yang digarisbawahi",
        text: "ã‚ã®,<span class='kanji'>ç”·</span>ã®äººã¯ã‹ã¿ã®ã‘ãŒé•·ã„ã‚“ã§ã™ã€‚",
        choices: ["A. ãŠã‚“ãª", "B. ãŠã¨ã“", "C. ãŠã¨ã†ã¨"],
        correct: 1
      },
  {
          image: "",
          hint : "Pililah cara baca yang tepat dari Kanji yang digarisbawahi",
          text: "æ˜æ—¥ã®ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼ã¯ã€‚,<span class='kanji'>ä¸­æ­¢ã™ã‚‹</span>ã¤ã‚‚ã‚Šã§ã™ã€‚",
          choices: ["A. ã¡ã‚…ã†ã—ã™ã‚‹", "B. ã¡ã‚…ã—ã™ã‚‹", "C. ã¡ã‚‡ã†ã—ã™ã‚‹"],
          correct: 0
        },
  {
    image: "",
    hint : "Bacalah percakapan berikut, kemudian Pililah jawaban yang paling sesuai dengan bagian (____)",
    text: "ä¼‘ã¿ã®æ—¥ã¯ã€éŸ³æ¥½ã‚’èã„ãŸã‚Šæœ¬ã‚’ï¼¿ï¼¿ï¼¿ã—ã¦ã„ã¾ã™",
    choices: ["A. èª­ã—ã¦", "B. èª­ã‚“ã ã‚Š", "C. èª­ã‚€"],
    correct: 1
  },
  {
    image: "",
    hint : "Bacalah percakapan berikut, kemudian Pililah jawaban yang paling sesuai dengan bagian (____)",
    text: "æœºã®ä¸Šã«ï¼¿ï¼¿ï¼¿ã‚‚ã®ã‚’ç½®ã„ã¦ãã ã•ã„",
    choices: ["A. é‡ã„", "B. é ã„", "C. å¼·ã„"],
    correct: 0
  },
  {
      image: "",
      hint : "Bacalah percakapan berikut, kemudian Pililah jawaban yang paling sesuai dengan bagian (____)",
      text: "ã‚¸ãƒ¥ãƒ¼ã‚¹ã‚’é£²ã¿ãŸã„ã‚“ã§ã™ï¼¿ï¼¿ï¼¿ãŒã‹ã‚ã„ãŸã‹ã‚‰",
      choices: ["A. ãã³", "B. ã®ã©", "C. ã‚†ã³"],
      correct: 1
    },
    {
      image: "",
      hint : "Bacalah percakapan berikut, kemudian Pililah jawaban yang paling sesuai dengan bagian (____)",
      text: "ä¼‘ã¿ãªã®ã§éƒ¨å±‹ã®ï¼¿ï¼¿ï¼¿ã‚’ã—ã¾ã—ãŸ",
      choices: ["A. ãã†ã˜", "B. ã›ã‚“ãŸã", "C. ã‚¹ãƒãƒ¼ãƒ„"],
      correct: 0
    },
    {
      image: "",
      hint : "Bacalah percakapan berikut, kemudian Pililah jawaban yang paling sesuai dengan bagian (____)",
      text: "ã‹ãŸãŒç—›ã„ã¨ãã¯ã€ã‹ãŸã‚’ï¼¿ï¼¿ï¼¿ã„ã„ã§ã™",
      choices: ["A. ã¾ã‚ã£ã¦ã‹ã‚‰", "B. ã¾ã‚ã™ã¨", "C. ã¾ã‚ã‚‹ã‹"],
      correct: 1
    },
    {
      image: "",
      hint : "Bacalah percakapan berikut, kemudian Pililah jawaban yang paling sesuai dengan bagian (____)",
      text: "æ˜¥ã«ã•ãã‚‰ãŒï¼¿ï¼¿ï¼¿",
      choices: ["A. ã•ãã¾ã™", "B. ã™ãã¾ã™", "C. ã‚€ãã¾ã™"],
      correct: 0
    },
    {
      image: "",
      hint : "Bacalah percakapan berikut, kemudian Pililah jawaban yang paling sesuai dengan bagian (____)",
      text: "ä»Šæ—¥ã€å°é¢¨ã§ã™ã‹ã‚‰ã€é¢¨ãŒï¼¿ï¼¿ï¼¿",
      choices: ["A. ã‹ã¶ã‚Šã¾ã™", "B. ãµãã¾ã™", "C. ãµã‚Šã¾ã™"],
      correct: 1
    },
    {
      image: "",
      hint : "Bacalah percakapan berikut, kemudian Pililah jawaban yang paling sesuai dengan bagian (____)",
      text: "ä»Šæ—¥ã€å‹ã ã¡ã«ã‹ã„ã‚‚ã®ã«ï¼¿ï¼¿ï¼¿",
      choices: ["A. ã‚ã„ã¾ã™", "B. ã‚‚ã¡ã¾ã™", "C. ã„ãã¾ã™"],
      correct: 2
    },
    {
      image: "",
      hint : "Bacalah percakapan berikut, kemudian Pililah jawaban yang paling sesuai dengan bagian (____)",
      text: "æ˜¨æ—¥ã®è©¦åˆã«ã‹ã¡ã¾ã—ãŸã€‚ã—ã‚ƒã¡ã‚‡ã†ã•ã‚“ã«ï¼¿ï¼¿ï¼¿",
      choices: ["A. ã»ã‚ã‚‰ã‚Œã‚‹", "B. ã»ã‚ã‚‰ã‚ŒãŸ", "C. ã»ã‚ã¾ã—ãŸ"],
      correct: 2
    }
];
const questionsSession2 = [
      {
        image: "",
        imageWidth: 300,
        hint : "dua orang sedang berbicara, baca dialog dan pililah ungkapan yang paling benar",
        text: `
          <div class="dialog male">
            <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/priamerah.jpg" class="talker">
            ã‚¿ã‚¤èªï¼¿ï¼¿ï¼¿äººã¯ã•ãŒã—ã¦ã„ã‚‹ã‚“ã§ã™ãŒ
            ã€€ã€€ãŠã—ãˆã¦ã„ãŸã ã‘ã¾ã›ã‚“ã‹ã€‚
          </div>
        
          <div class="dialog female">
            <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/ceweungu.jpg" class="talker">
            ã‚¿ã‚¤èªã§ã™ã­ã€‚ã•ãŒã—ã¦ã¿ã¾ã™ã€‚
          </div>
          
          <div class="dialog male">
            <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/priamerah.jpg" class="talker">
            ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚
            ã€€ã€€ã€€ã€€ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ã€‚
          </div>
        `,
        choices: [
          "A. è©±ã—ã¦ ",
          "B. è©±ã›ã‚‹",
          "C. è©±ã™"
        ],
        correct: 1
      },

  {
    image: "",
    imawgeWidth: 300,
    hint: "dua orang sedang berbicara, baca dialog dan pililah ungkapan yang paling benar",
    text: `
      <div class="dialog female">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/ceweungu.jpg" class="talker">
        å¯Œå£«å±±ã®çµµãã‚Œã„ã§ã™ã­ã€‚
      </div>
  
      <div class="dialog male">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/priamerah.jpg" class="talker">
        ãã†ã§ã™ã­ã€‚ç§ã¯ç‰¹ã«ãµã˜ã•ã‚“ã®çµµï¼¿ï¼¿ï¼¿
      </div>
  
      <div class="dialog female">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/ceweungu.jpg" class="talker">
        ãã†ã§ã™ã­ã€‚
      </div>
    `,
    choices: [
      "A. ã™ã°ã‚‰ã—ã„ãã†ã§ã™",
      "B. ã™ã°ã‚‰ã—ã„ã¨æ€ã„ã¾ã™",
      "C. ã™ã°ã‚‰ã—ããªã‚Šã¾ã™"
    ],
    correct: 1
  },
  {
    image: "",
    hint: "dua orang sedang berbicara, baca dialog dan pililah ungkapan yang paling benar",
    text: `
      <div class="dialog male">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/priakuning.jpg" class="talker">
        ã™ã¿ã¾ã›ã‚“ã€ã¡ã‚‡ã£ã¨æ‰‹ä¼ã£ã¦ã‚‚ã‚‰ã„ã¾ã›ã‚“ã‹ã€‚
      </div>
  
      <div class="dialog female">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/ceweungu.jpg" class="talker">
        ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿
      </div>
    `,
    choices: [
      "A. ãˆãˆã€ã©ã†ã",
      "B. ãˆãˆã€ã‚ã‚ŠãŒã¨ã†",
      "C. ãˆãˆã€ã„ã„ã§ã™ã‚ˆ"
    ],
    correct: 2
  },
  
  {
    image: "",
    hint: "dua orang sedang berbicara, baca dialog dan pililah ungkapan yang paling benar",
    text: `
      <div class="dialog male">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/priakuning.jpg" class="talker">
        ãŠã¹ã‚“ã¨ã†è²·ã£ã¦ã€ã‚ãŸãŸã‹ãã—ã¦ã¾ã™ã‹ã€‚
      </div>
  
      <div class="dialog female">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/cewebiru.jpg" class="talker">
        ã„ã„ãˆã€ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ã€‚
      </div>
    `,
    choices: [
      "A. ã ã‚ã§ã™",
      "B. ã¡ã‚‡ã£ã¨",
      "C. ã‘ã£ã“ã†ã§ã™"
    ],
    correct: 2
  },
  {
    image: "https://raw.githubusercontent.com/ivank1999/Ivank/main/pelari.png",
    imawgeWidth: 300,
    hint : "lihatlah ilustrasi, kemudian pililah kata yang benar.",
    text: "ï¼¿ï¼¿ï¼¿ç”ºã§ã™ã­ã€‚",
    choices: [
      "A. ã«ãã‚„ã‹ãª",
      "B. ã«ãã‚„ã‹ã§",
      "C. ã«ãã‚„ã‹"
    ],
    correct: 0
  },
  
{
    image: "",
    hint: "dua orang sedang berbicara, baca dialog dan pililah ungkapan yang paling benar",
    text: `
      <div class="dialog male">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/priakuning.jpg" class="talker">
        ãã®ã‚«ãƒ¡ãƒ©ã¯ã„ã„ã§ã™ã­ã€‚
      </div>
  
      <div class="dialog female">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/cewebiru.jpg" class="talker">
        ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚
      </div>
  
      <div class="dialog male">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/priakuning.jpg" class="talker">
        ã©ã“ã§è²·ã£ãŸã‚“ã§ã™ã‹ã€‚
      </div>
  
      <div class="dialog female">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/cewebiru.jpg" class="talker">
        ã“ã‚Œã¯æ—¥æœ¬ã¸è¡Œãå‰ã«ã€çˆ¶ãŒè²·ã£ã¦ï¼¿ï¼¿ï¼¿ã€‚
      </div>
      
      <div class="dialog male">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/priakuning.jpg" class="talker">
        ãã†ã§ã™ã‹ã€‚
      </div>
    `,
    choices: [
        "A. ã‚ã’ã¾ã—ãŸ",
        "B. ãã‚Œã¾ã—ãŸ",
        "C. ã‚‚ã‚‰ã„ã¾ã—ãŸ"
    ],
    correct: 1
   },

  {
    image: "",
    hint: "dua orang sedang berbicara, baca dialog dan pililah ungkapan yang paling benar",
    text: `
      <div class="dialog female">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/cewebiru.jpg" class="talker">
        ä»Šæ—¥ã®è©¦é¨“ã¯ã©ã†ã§ã—ãŸã‹ã€‚
      </div>
  
      <div class="dialog male">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/priakuning.jpg" class="talker">
        ã‚ˆãï¼¿ï¼¿ï¼¿ã€ãœã‚“ãœã‚“ã ã‚ã§ã—ãŸã€‚
      </div>
  
      <div class="dialog female">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/cewebiru.jpg" class="talker">
        ãã†ã§ã™ã‹ã€‚
      </div>
    `,
    choices: [
      "A. å‹‰å¼·ã—ãŸã®ã«",
      "B. å‹‰å¼·ã—ãŸã‹ã‚‰",
      "C. å‹‰å¼·ã—ãŸã‚‰"
        
    ],
    correct: 0
  },
  
  {
    image: "",
    hint: "dua orang sedang berbicara, baca dialog dan pililah ungkapan yang paling benar",
    text: `
      <div class="dialog male">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/priakuning.jpg" class="talker">
        æ˜æ—¥ä½•æ™‚ã«ã—ã¾ã™ã‹ã€‚
      </div>
  
      <div class="dialog female">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/cewebiru.jpg" class="talker">
        7æ™‚ã¯ã©ã†ã§ã™ã‹ã€‚
      </div>
  
      <div class="dialog male">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/priakuning.jpg" class="talker">
        ã¡ã‚‡ã£ã¨æ—©ã„ã§ã™ã€‚8æ™‚ã§ã‚‚ã„ã„ã§ã™ã‹ã€‚
      </div>
      
      <div class="dialog female">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/cewebiru.jpg" class="talker">
        ï¼¿ï¼¿ï¼¿ï¼¿ï¼¿ã€‚
      </div>
    `,
    choices: [
      "A. ã‚ˆã‹ã£ãŸã§ã™",
      "B. ã˜ã‚ƒã‚ã€ã¾ãŸã‚ã—ãŸ",
      "C. ã„ã„ã§ã™ã‚ˆ"
    ],
    correct: 1
  },
  {
    image: "",
    hint: "dua orang sedang berbicara, baca dialog dan pililah ungkapan yang paling benar",
    text: `
      <div class="dialog female">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/cewebiru.jpg" class="talker">
        å±±ç”°ã•ã‚“ã®å¦»ã¯ã©ã‚“ãªäººã§ã™ã‹ã€‚
      </div>
  
      <div class="dialog male">
        <img src="https://raw.githubusercontent.com/ivank1999/Ivank/main/priakuning.jpg" class="talker">
        ãã†ã§ã™ã­ã€‚ã¨ã¦ã‚‚ï¼¿ï¼¿ï¼¿è¦ªåˆ‡ãªäººã§ã™ã€‚
      </div>
    `,
    choices: [
      "A. ãã‚Œã„ãª",
      "B. ãã‚Œãã¦",
      "C. ãã‚Œã„ã§"
    ],
    correct: 2
  }
];

const questionsSession3 = [
  // 1
  {
    hint: "Dengarkan percakapan, lalu pilih jawaban yang benar",
    text: "ã—ã‚…ã¿ã¯ãªã‚“ã§ã™ã‹ã€‚",
    choices: [
      "A. ã‚¹ãƒãƒ¼ãƒ„",
      "B. ãŠã‚“ãŒã",
      "C. ã‚Šã‚‡ã“ã†"
    ],
    correct: 1
  },

  // 2
  {
    hint: "Dengarkan percakapan, lalu pilih jawaban yang benar",
    text: "Bulan apa yang paling dingin",
    choices: [
      "A. ãµã‚†ã¯ã‚ãŸãŸã‹ã„ã§ã™",
      "B. ã§ã‚‚1ãŒã¤ã‚ˆã‚Š2ãŒã¤ã‚‚ã¨ã•ã‚€ã„ã§ã™",
      "C. 1ãŒã¤ãŒã„ã¡ã°ã‚“ã•ã‚€ã„ã§ã™"
    ],
    correct: 1
  },

  // 3
  {
    hint: "Dengarkan percakapan, lalu pilih jawaban yang benar",
    text: "Memutuskan untuk memberi hadiah apa mereka",
    choices: [
      "A. ãƒ“ãƒ¼ãƒ«",
      "B. ãƒ¯ã‚¤ãƒ³ï¼ˆANGGUR PUTIHï¼‰",
      "C. ã‚¸ãƒ¥ãƒ¼ã‚¹"
    ],
    correct: 1
  },

  // 4
  {
    hint: "Dengarkan percakapan, lalu pilih jawaban yang benar",
    text: "Berapa harga barang",
    choices: [
      "A. 1000å††ã§ã™",
      "B. 1500å††ã§ã™",
      "C. 2000å††ã§ã™"
    ],
    correct: 1
  },

  // 5
  {
    hint: "Dengarkan percakapan, lalu pilih jawaban yang benar",
    text: "Memutuskan untuk membeli baju yang mana?",
    choices: [
      "A. Baju yang warna Merah dan ukuran M",
      "B. Baju yang warna hitam dan ukuran S",
      "C. Baju yang warna Kuning dan ukuran L"
    ],
    correct: 1
  },

  // 6 DOUBLE
  {
    type: "double",
    hint: "Dengarkan percakapan, lalu jawab pertanyaan A dan B",
    questions: [
      {
        label: "A",
        text: "Jam berapa kumpul di kelas",
        choices: [
          "1. Jam 9:30",
          "2. Jam 9:50",
          "3. Jam 10:00"
        ],
        correct: 1
      },
      {
        label: "B",
        text: "Dilantai berapa diadakan",
        choices: [
          "1. Dilantai 1",
          "2. Dilantai 2",
          "3. Dilantai 3"
        ],
        correct: 1
      }
    ]
  },

  // 7 DOUBLE
  {
    type: "double",
    hint: "Dengarkan percakapan, lalu jawab pertanyaan A dan B",
    questions: [
      {
        label: "A",
        text: "Dimana sampahnya akan dikumpulkan",
        choices: [
          "1. ã“ã†ãˆã‚“ã„ã‚Šãã¡",
          "2. ãˆãã¾ãˆ",
          "3. ãŒã£ã“ã†"
        ],
        correct: 0
      },
      {
        label: "B",
        text: "Sampai jam berapa kegiatannya",
        choices: [
          "1. Jam 9:30",
          "2. Jam 10:00",
          "3. Jam 10:30"
        ],
        correct: 1
      }
    ]
  },

  // 8 DOUBLE
  {
    type: "double",
    hint: "Lihat gambar remote AC, lalu jawab pertanyaan A dan B",
    questions: [
      {
        label: "A",
        text: "Berapa suhu yang ditentukan",
        choices: [
          "1. 25Â°C",
          "2. 26Â°C",
          "3. 27Â°C"
        ],
        correct: 2
      },
      {
        label: "B",
        text: "Tombol apa yang ditekan untuk mengatur suhu",
        choices: [
          "1. ã¾ã‚‹ã®ãƒœã‚¿ãƒ³",
          "2. ã•ã‚“ã‹ãã®ãƒœã‚¿ãƒ³",
          "3. ã—ã‹ãã®ãƒœã‚¿ãƒ³"
        ],
        correct: 1
      }
    ]
  }
];
const questionsSession4 = [
    {
      type: "html",
      html:`
      <div class="session4">
    <!-- ================= NO 1 ================= -->

    <div class="study">
    <div class="question">
    <b>1.</b><br>
    Gogo yasumi, byouin ni ikimasu.<br>
    Gogo no shigoto Yamasita-san to â€¦. kudasai
    <div class="choice answer">
    A. Gogo nani o shimasu kaï¼ˆgambar orang berobatï¼‰<br>
    B. Pekerjaannya dilakukan oleh siapa Yamasita
    </div>
    </div>
    
    <div id="jp1" class="jp-text">
    åˆå¾Œä¼‘ã¿ã§ã™ã€‚ç—…é™¢ã«è¡Œãã¾ã™ã€‚<br>
    åˆå¾Œã®ä»•äº‹ã€å±±ä¸‹ã•ã‚“ã¨ï¼ˆã€€ã€€ï¼‰ãã ã•ã„ã€‚<br><br>
    A. åˆå¾Œä½•ã‚’ã—ã¾ã™ã‹ã€‚(gambar orang berobat)<br>
    B. å±±ä¸‹ã•ã‚“ã®ä»•äº‹ã¯ã ã‚ŒãŒã—ã¾ã™ã‹ã€‚
    </div>
    
    <div class="buttons">
    <button onclick="showJP('jp1')">ğŸ‡¯ğŸ‡µ Jepang Full</button>
    
    <button onclick="toggle(this)">Kotoba</button>
    <div class="hidden">
    åˆå¾Œï¼ˆã”ã”ï¼‰= sore<br>
    ä¼‘ã¿ï¼ˆã‚„ã™ã¿ï¼‰= libur<br>
    ç—…é™¢ï¼ˆã³ã‚‡ã†ã„ã‚“ï¼‰= rumah sakit<br>
    ä»•äº‹ï¼ˆã—ã”ã¨ï¼‰= pekerjaan<br>
    ã ã‚Œ = siapa
    </div>
    
    <button onclick="toggle(this)">Bunpou</button>
    <div class="hidden">
    â‘  ï½ã¦ãã ã•ã„ = bentuk permintaan sopan<br>
    â‘¡ Kata kerja dihilangkan (çœç•¥) dan dipahami dari konteks
    </div>
    
    <button onclick="toggle(this)">Partikel</button>
    <div class="hidden">
    ã® = menghubungkan dua kata benda (åˆå¾Œã®ä»•äº‹)<br>
    ã¨ = bersama (å±±ä¸‹ã•ã‚“ã¨)(Bersama Sdr.Yamasita)<br>
    ã¯ = penanda topik (å±±ä¸‹ã•ã‚“ã®ä»•äº‹ã¯â€¦)<br>
    ãŒ = penanda subjek / pelaku (ã ã‚ŒãŒã—ã¾ã™ã‹)
    </div>
    <button onclick="toggle(this)">Kata Kerja</button>
    <div class="hidden">
    ãƒ»è¡Œãã¾ã™ï¼ˆè¡Œãï¼‰= pergiï¼ˆkata kerja aksi, bentuk sopanï¼‰<br>
    </div>
    <button onclick="toggle(this)">Kanji</button>
    <div class="hidden">
    ç—… = sakit<br>
    é™¢ = gedung / institusi<br><br>
    ä»• = melakukan<br>
    äº‹ = urusan<br><br>
    å±± = gunung<br>
    ä¸‹ = bawah
    </div>
    </div>
    </div>
    
    <!-- ================= NO 2 ================= -->
    <div class="study">
    <div class="question">
    <b>2.</b> Sakubun â€“ ie no ryouri<br>
    <div class="choice">
    1. Hal yang benar tentang ie no ryouri<br>
    â†’ <span class="answer">Tatami no ie aru koto</span><br><br>
    
    2. Setelah selesai kelas ngapain<br>
    â†’ <span class="answer">Bento tsukuru you ni narimasu</span>
    </div>
    </div>
    
    <div id="jp2" class="jp-text">
    å®¶ã®æ–™ç†ã«ã¤ã„ã¦ã€æ­£ã—ã„ã“ã¨ã¯ã©ã‚Œã§ã™ã‹ã€‚<br>
    ãƒ»ç•³ã®å®¶ãŒã‚ã‚‹ã“ã¨ã€‚<br><br>
    æˆæ¥­ãŒçµ‚ã‚ã£ãŸã‚ã¨ã€ã©ã†ã—ã¾ã™ã‹ã€‚<br>
    ãƒ»å¼å½“ã‚’ä½œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚
    </div>
    
    <div class="buttons">
    <button onclick="showJP('jp2')">ğŸ‡¯ğŸ‡µ Jepang Full</button>
    
    <button onclick="toggle(this)">Kotoba</button>
    <div class="hidden">
    å®¶ï¼ˆã„ãˆï¼‰= rumah<br>
    æ–™ç†ï¼ˆã‚Šã‚‡ã†ã‚Šï¼‰= masakan<br>
    æ­£ã—ã„ï¼ˆãŸã ã—ã„ï¼‰= benar<br>
    ã©ã‚Œ = yang mana<br>
    ç•³ï¼ˆãŸãŸã¿ï¼‰= tatami<br>
    ã‚ã‚‹ = ada<br>
    æˆæ¥­ï¼ˆã˜ã‚…ãã‚‡ã†ï¼‰= pelajaran<br>
    çµ‚ã‚ã‚‹ï¼ˆãŠã‚ã‚‹ï¼‰= selesai<br>
    ã‚ã¨ = setelah<br>
    ã©ã† = bagaimana<br>
    å¼å½“ï¼ˆã¹ã‚“ã¨ã†ï¼‰= bekal<br>
    ä½œã‚‹ï¼ˆã¤ãã‚‹ï¼‰= membuat<br>
    ï½ã‚ˆã†ã«ãªã‚Šã¾ã™ = menjadi terbiasa / mulai melakukan
    </div>
    
    <button onclick="toggle(this)">Bunpou</button>
    <div class="hidden">
    ï½ã«ã¤ã„ã¦ = menyatakan topik pembahasan (å®¶ã®æ–™ç†ã«ã¤ã„ã¦)<br>
    ï½ã¯ã©ã‚Œã§ã™ã‹ = pola pertanyaan memilih jawaban yang benar<br>
    ï½ãŒã‚ã‚‹ = menyatakan keberadaan / fakta (ç•³ã®å®¶ãŒã‚ã‚‹)<br>
    VãŸ + ã‚ã¨ = menyatakan urutan waktu "setelah" (çµ‚ã‚ã£ãŸã‚ã¨)<br>
    Vã‚‹ + ã‚ˆã†ã«ãªã‚Šã¾ã™ = menyatakan perubahan kebiasaan (ä½œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™)
    </div>
    
    <button onclick="toggle(this)">Kata Kerja</button>
    <div class="hidden">
    ã‚ã‚Šã¾ã™ï¼ˆã‚ã‚‹ï¼‰= ada / keberadaan<br>
    çµ‚ã‚ã‚Šã¾ã™ï¼ˆçµ‚ã‚ã‚‹ï¼‰= selesai<br>
    ã—ã¾ã™ï¼ˆã™ã‚‹ï¼‰= melakukan<br>
    ä½œã‚Šã¾ã™ï¼ˆä½œã‚‹ï¼‰= membuat<br>
    ãªã‚Šã¾ã™ï¼ˆãªã‚‹ï¼‰= menjadi / berubah
    </div>
    
    <button onclick="toggle(this)">Partikel</button>
    <div class="hidden">
    ã® = menghubungkan dua kata benda (å®¶ã®æ–™ç† / ç•³ã®å®¶)<br>
    ã«ã¤ã„ã¦ = menyatakan topik pembahasan<br>
    ã¯ = penanda topik (æ­£ã—ã„ã“ã¨ã¯â€¦)<br>
    ãŒ = penanda subjek / keberadaan (å®¶ãŒã‚ã‚‹ãƒ»æˆæ¥­ãŒçµ‚ã‚ã‚‹)<br>
    ã‚’ = penanda objek (å¼å½“ã‚’ä½œã‚‹)
    </div>
    
    <button onclick="toggle(this)">Kanji</button>
    <div class="hidden">
    å®¶ / æ–™ç† / æˆæ¥­ / å¼å½“ / ç•³
    </div>
    </div>
    </div>
    
       â†’ 
    <!-- ================= NO 3 ================= -->
    <div class="study">
    <div class="question">
    <b>3.</b> Pesan message HOA<br>
    Nihon kaiwa kurabu totemo yokatta desu ne...dapat info dr...
    <div class="choice answer">
    â†’ jawabannya Gambar orang duduk melingkar ky lagi makan tapi bukan<br> 
    â†’ jawabannya kirei na sakura (ãã‚Œã„ãªæ¡œ = bunga sakura yang indah)
    </div>
    
    <div id="jp3" class="jp-text">
    æ—¥æœ¬ä¼šè©±ã‚¯ãƒ©ãƒ–ã€ã¨ã¦ã‚‚ã‚ˆã‹ã£ãŸã§ã™ã­...ã“ã®æƒ…å ±ã¯ã©ã“ã‹ã‚‰...ã€‚
    </div>
    
    <div class="buttons">
    <button onclick="showJP('jp3')">ğŸ‡¯ğŸ‡µ Jepang Full</button>
    
    <button onclick="toggle(this)">Kotoba</button>
    <div class="hidden">
    ä¼šè©±ï¼ˆã‹ã„ã‚ï¼‰= percakapan<br>
    æƒ…å ±ï¼ˆã˜ã‚‡ã†ã»ã†ï¼‰= informasi
    </div>
    
    <button onclick="toggle(this)">Partikel</button>
    <div class="hidden">
    ã‹ã‚‰ = dari (sumber informasi)
    </div>
    
    <button onclick="toggle(this)">Bunpou</button>
    <div class="hidden">
    ï½ã‹ã‚‰ = menyatakan asal / sumber informasi
    </div>
    
    <button onclick="toggle(this)">Kanji</button>
    <div class="hidden">
    æ—¥æœ¬ / ä¼šè©± / æƒ…å ±
    </div>
    </div>
    </div>
    
    <!-- ================= NO 4 ================= -->
    <div class="study">
    <div class="question">
    <b>4.</b> Kaya Ada Tabel
    <div class="choice answer">
    â†’ Dalam situ boleh memilih apa, å‡ºç™ºæ—¥<br>
    â†’ Lupa
    </div>
    
    <div id="jp4" class="jp-text">
    ã“ã®è¡¨ã§é¸ã¹ã‚‹ã®ã¯ã€å‡ºç™ºæ—¥ã€‚
    </div>
    
    <div class="buttons">
    <button onclick="showJP('jp4')">ğŸ‡¯ğŸ‡µ Jepang Full</button>
    
    <button onclick="toggle(this)">Kotoba</button>
    <div class="hidden">
    è¡¨ï¼ˆã²ã‚‡ã†ï¼‰= tabel<br>
    é¸ã¶ï¼ˆãˆã‚‰ã¶ï¼‰= memilih
    </div>
    
    <button onclick="toggle(this)">Partikel</button>
    <div class="hidden">
    ã§ = tempat / alat
    </div>
    
    <button onclick="toggle(this)">Bunpou</button>
    <div class="hidden">
    ï½ã®ã¯ï½ = menekankan topik / hal yang dipilih
    </div>
    
    <button onclick="toggle(this)">Kanji</button>
    <div class="hidden">
    è¡¨ / é¸ / å‡ºç™ºæ—¥
    </div>
    </div>
    </div>
    
    <!-- ================= NO 5 ================= -->
    <div class="study">
    <div class="question">
    <b>5.</b> Tabel harga
    <div class="choice answer">
    â†’ å¥³ã®äºº ã„ãã‚‰ã§ã™ã‹ï¼ˆ1800å††ï¼‰<br>
    â†’ Harga paling murah â†’ 1æ—¥
    </div>
    </div>
    
    <div id="jp5" class="jp-text">
    å¥³ã®äººã¯ã„ãã‚‰ã§ã™ã‹ã€‚(1800å††)<br>
    ä¸€æ—¥ã§ä¸€ç•ªå®‰ã„ã§ã™ã€‚
    </div>
    
    <div class="buttons">
    <button onclick="showJP('jp5')">ğŸ‡¯ğŸ‡µ Jepang Full</button>
    
    <button onclick="toggle(this)">Kotoba</button>
    <div class="hidden">
    å¥³ï¼ˆãŠã‚“ãªï¼‰= perempuan<br>
    ä¸€ç•ªï¼ˆã„ã¡ã°ã‚“ï¼‰= paling<br>
    å®‰ã„ï¼ˆã‚„ã™ã„ï¼‰= murah
    </div>
    
    <button onclick="toggle(this)">Bunpou</button>
    <div class="hidden">
    ï½ã¯ã„ãã‚‰ã§ã™ã‹ = menanyakan harga<br>
    ä¸€ç•ªï½ã§ã™ = menyatakan yang paling
    </div>
    
    <button onclick="toggle(this)">Partikel</button>
    <div class="hidden">
    ã¯ = topik<br>
    ã§ = dalam / pada
    </div>
    
    <button onclick="toggle(this)">Kanji</button>
    <div class="hidden">
    å¥³ / å†† / ä¸€æ—¥ / å®‰
    </div>
    </div>
    </div>
    `
  }
];
let current = 0;
let answers = Array(questions.length).fill(null);
let examFinished = false;
const questionsSession1 = questions;

const sessions = [
  questionsSession1,
  questionsSession2,
  questionsSession3,
  questionsSession4
];

let sessionIndex = 0; // mulai dari sesi 1
const sidebar = document.getElementById("sidebar");
const image = document.getElementById("questionImage");
const answersDiv = document.getElementById("answers");
const finishBtn = document.getElementById("finishBtn");
finishBtn.addEventListener("click", finishExam);
const questionText = document.getElementById("questionText");
const prevBtn = document.getElementById("prevBtn");
const nextBtn = document.getElementById("nextBtn");

prevBtn.onclick = () => {
  if (sessionIndex > 0) {
    sessionIndex--;   // ğŸ”¥ balik ke sesi sebelumnya
  }
  startSession();     // reset sesi itu
};
nextBtn.onclick = () => {
  if (sessionIndex < sessions.length - 1) {
    sessionIndex++;
    startSession();
  } else {
    alert("Semua sesi sudah selesai ğŸ‰");
  }
};

function updateTitle() {
  document.getElementById("title").textContent =
    `OKIMASU SESI ${sessionIndex + 1}`;
}
function startSession() {
  questions = sessions[sessionIndex];

  // ğŸ”¥ KHUSUS SESI 4: SEMBUNYIKAN SIDEBAR
  if (sessionIndex === 3) {
    sidebar.style.display = "none";
  } else {
    sidebar.style.display = "block";
  }
  if (!questions || questions.length === 0) {
    alert(`Sesi  belum tersedia`);
    return;
  }
  current = 0;
  answers = Array(questions.length).fill(null);
  examFinished = false;

  document.getElementById("result").style.display = "none";

  finishBtn.style.display = "none";
  finishBtn.disabled = false;
  prevBtn.style.display = "none";
  nextBtn.style.display = "none";

  sidebar.innerHTML = "";
  questions.forEach((q, i) => {
    const btn = document.createElement("button");
    btn.textContent = i + 1;
    btn.onclick = () => loadQuestion(i);
    sidebar.appendChild(btn);
  });

  updateTitle();
  loadQuestion(0);
}
function toggleSessionMenu() {
  const menu = document.getElementById("sessionMenu");
  menu.style.display = menu.style.display === "block" ? "none" : "block";
}

function goSession(index) {
  if (!sessions[index] || sessions[index].length === 0) {
    alert("Sesi ini belum tersedia");
    return;
  }

  sessionIndex = index;
  document.getElementById("sessionMenu").style.display = "none";
  startSession();
}
/* LOAD SOAL */
function loadQuestion(index) {
  current = index;
  const q = questions[index];

  
  // ğŸ”¥ KHUSUS SESI 4 (HTML FULL)
  if (q.type === "html") {
    document.getElementById("questionHint").style.display = "none";
    questionText.style.display = "none";
    image.style.display = "none";
  
    answersDiv.innerHTML = q.html;
  
    updateSidebar();
    return;
  }
if (q.type === "double") {
    if (!Array.isArray(answers[current])) {
      answers[current] = Array(q.questions.length).fill(undefined);
    }
    renderDoubleQuestion(q);
    updateSidebar();
    return;
  }
const hintDiv = document.getElementById("questionHint");

if (q.hint) {
  hintDiv.innerHTML = q.hint;
  hintDiv.style.display = "block";
} else {
  hintDiv.style.display = "none";
}
  if (q.text) {
    questionText.innerHTML = q.text;
    questionText.style.display = "block";
  } else {
    questionText.style.display = "none";
  }

  if (q.image) {
    image.src = q.image;
    image.style.display = "block";
  
    // ğŸ”¥ ATUR UKURAN PER SOAL
    image.style.width = q.imageWidth
      ? q.imageWidth + "px"
      : "600px"; // default kalau tidak diset
  } else {
    image.style.display = "none";
  } 
  answersDiv.innerHTML = "";

  q.choices.forEach((choice, i) => {
    const label = document.createElement("label");
  
    const userAnswer = answers[current];
    const correctAnswer = q.correct;
  
    label.innerHTML = `
      <input type="radio" name="jawaban_${current}">${choice} ${examFinished && i === correctAnswer ? " âœ…  (jawaban benar) " : ""} ${examFinished && i === userAnswer && i !== correctAnswer ? "âŒ (jawaban kamu)" : ""}
    `;
  
    const input = label.querySelector("input");
  
    if (userAnswer === i) input.checked = true;
  
    if (examFinished) {
      input.disabled = true;
  
      if (i === correctAnswer) label.classList.add("correct");
      if (i === userAnswer && i !== correctAnswer) label.classList.add("wrong");
    } else {
      input.onclick = () => {
        answers[current] = i;
        updateSidebar();
        checkFinish();
      };
    }
  
    answersDiv.appendChild(label);
  });
  updateSidebar();
}
function renderDoubleQuestion(q) {
  answersDiv.innerHTML = "";

  // tampilkan hint di div khusus
  const hintDiv = document.getElementById("questionHint");
  if (q.hint) {
    hintDiv.innerHTML = q.hint;
    hintDiv.style.display = "block";
  } else {
    hintDiv.style.display = "none";
  }

  // sembunyikan questionText karena double tidak punya text utama
  questionText.style.display = "none";
  if (q.image) {
    image.src = q.image;
    image.style.display = "block";
  }

  q.questions.forEach((subQ, subIndex) => {
    const box = document.createElement("div");
    box.style.marginBottom = "30px";

    box.innerHTML = `
      <div class="double-label"> Pertanyaan (${subQ.label})
        </div>
    
      <div class="double-question-text">${subQ.text}
        </div>
    `;

    subQ.choices.forEach((choice, i) => {
      const label = document.createElement("label");

      const userAnswer =
        answers[current] ? answers[current][subIndex] : null;
      
      label.innerHTML = `
        <input type="radio" 
          name="q_${current}_${subIndex}">${choice}
        
        ${
          examFinished && i === subQ.correct
            ? " âœ… (jawaban benar)"
            : ""
        }
        ${
          examFinished &&
          i === userAnswer &&
          i !== subQ.correct
            ? " âŒ (jawaban kamu)"
            : ""
        }
      `;

      const input = label.querySelector("input");
      // â¬…ï¸ FIX: balikin tanda biru kalau sudah pernah dijawab
      if (
        answers[current] &&
        answers[current][subIndex] === i
      ) {
        input.checked = true;
      }
      if (examFinished) {
        input.disabled = true;
      
        if (i === subQ.correct) label.classList.add("correct");
        if (
          answers[current] &&
          answers[current][subIndex] === i &&
          i !== subQ.correct
        ) {
          label.classList.add("wrong");
        }
      } else {
        input.onclick = () => {
          if (!answers[current]) answers[current] = [];
          answers[current][subIndex] = i;
         
          updateSidebar();
          checkFinish();
        };
      }

      box.appendChild(label);
    });

    answersDiv.appendChild(box);
  });
}

/* UPDATE SIDEBAR */
function updateSidebar() {
  [...sidebar.children].forEach((btn, i) => {
    btn.classList.remove("active", "answered", "wrong");

    // soal aktif
    if (i === current) {
      btn.classList.add("active");
    }

    // ===== MODE REVIEW (SETELAH SELESAI) =====
    if (examFinished) {
      if (questions[i].type === "double") {
        const userAns = answers[i];
        const total = questions[i].questions.length;

        if (
          !Array.isArray(userAns) ||
          userAns.length < total ||
          userAns.some(
            (a, idx) => a !== questions[i].questions[idx].correct
          )
        ) {
          btn.classList.add("wrong");
        } else {
          btn.classList.add("answered");
        }
      } else {
        if (answers[i] === questions[i].correct) {
          btn.classList.add("answered");
        } else {
          btn.classList.add("wrong");
        }
      }

      return; // â›” STOP di sini, jangan lanjut ke mode ujian
    }

// ===== MODE UJIAN =====
    if (questions[i].type === "double") {
      if (
        Array.isArray(answers[i]) &&
        answers[i].some(a => a !== undefined)
      ) {
        btn.classList.add("answered");
      }
    } else {
      if (answers[i] !== null) {
        btn.classList.add("answered");
      }
    }
  });
}/* CEK SELESAI */
function checkFinish() {
  const selesai = questions.every((q, i) => {
    if (q.type === "double") {
      return (
        Array.isArray(answers[i]) &&
        answers[i].length === q.questions.length &&
        answers[i].every(a => a !== undefined)
      );
    } else {
      return answers[i] !== null;
    }
  });

  if (selesai) {
    finishBtn.style.display = "inline-block";
  }
}
function resetExam() {
  examFinished = false;
  current = 0;
  answers = Array(questions.length).fill(null);

  document.getElementById("result").style.display = "none";

  finishBtn.style.display = "none";
  finishBtn.disabled = false;

  prevBtn.style.display = "none";
  nextBtn.style.display = "none";

  sidebar.innerHTML = "";
  answersDiv.innerHTML = ""; // ğŸ”¥ INI YANG KURANG

  questions.forEach((q, i) => {
    const btn = document.createElement("button");
    btn.textContent = i + 1;
    btn.onclick = () => loadQuestion(i);
    sidebar.appendChild(btn);
  });

  updateTitle();
  loadQuestion(0);
}
function toggle(btn){
  const box = btn.nextElementSibling;
  box.style.display =
    box.style.display === "block" ? "none" : "block";
}

function showJP(id){
  document.getElementById(id).style.display = "block";
}

/* SELESAI */
function finishExam() {
  let score = 0;

  questions.forEach((q, i) => {
    if (q.type === "double") {
      q.questions.forEach((sq, j) => {
        if (answers[i] && answers[i][j] === sq.correct) {
          score++;
        }
      });
    } else {
      if (answers[i] === q.correct) score++;
    }
  });

  examFinished = true; // ğŸ”¥ MASUK MODE REVIEW
  updateSidebar();
  loadQuestion(current); // refresh tampilan soal

  const resultDiv = document.getElementById("result");
  resultDiv.style.display = "block";
  resultDiv.innerHTML = `
    UJIAN SELESAI<br><br>
    NILAI ANDA: <span style="color:red">${score}</span> / 
  ${questions.length}`;

  finishBtn.disabled = true;
  /* ğŸ”¥ tampilkan tombol navigasi */
    prevBtn.style.display = "inline-block";
    nextBtn.style.display = "inline-block";
  
}
function goBackMenu() {
  window.location.href = "https://ivank1999.github.io/Ivank/kisikisijfta2.html";
}
/* INIT */
startSession();
</script>

</body>
</html>
